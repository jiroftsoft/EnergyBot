# ุฑุงูููุง ุชูุธูุงุช ุฏุฑ ูพูู Plesk (mehranyad.ir)

## ๐ ฺฉุงุฑูุง ฺฉู ุจุงุฏ ุฏุฑ Plesk ุงูุฌุงู ุฏูุฏ

### 1. ูุนุงูโุณุงุฒ SSL Certificate

1. ูุงุฑุฏ ูพูู Plesk ุดูุฏ
2. ุจู ุจุฎุด **Domains** ุจุฑูุฏ
3. ุฏุงูู `mehranyad.ir` ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
4. ุจู ุจุฎุด **SSL/TLS Settings** ุจุฑูุฏ
5. ฺฉ ุงุฒ ฺฏุฒููโูุง ุฒุฑ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ:
   - **Let's Encrypt** (ุฑุงฺฏุงู - ุชูุตู ูโุดูุฏ)
   - ุง **SSL Certificate** ููุฌูุฏ ุฎูุฏ ุฑุง ูุนุงู ฺฉูุฏ
6. ุฑู **Install** ฺฉูฺฉ ฺฉูุฏ
7. ูุทูุฆู ุดูุฏ ฺฉู **Redirect from HTTP to HTTPS** ูุนุงู ุงุณุช

---

### 2. ุชูุธู PHP ู Python (ุงฺฏุฑ ูุงุฒ ุจุงุดุฏ)

**ูฺฉุชู:** ุจุฑุง ุงู ูพุฑูฺู ูุงุฒ ุจู PHP ูุณุชุ ููุท Python 3.11+ ูุงุฒ ุฏุงุฑู.

ุงฺฏุฑ Python ุฏุฑ ุณุฑูุฑ ูุตุจ ูุณุช:
1. ุงุฒ ุทุฑู SSH ุจู ุณุฑูุฑ ูุชุตู ุดูุฏ
2. Python ุฑุง ูุตุจ ฺฉูุฏ (ุฏุณุชูุฑุงุช ุฏุฑ ูุงู `deploy.sh` ุขูุฏู ุงุณุช)

---

### 3. ุชูุธู Subdomain ุง Domain (ุงุฎุชุงุฑ)

ุงฺฏุฑ ูโุฎูุงูุฏ ุงุฒ subdomain ุงุณุชูุงุฏู ฺฉูุฏ (ูุซูุงู `api.mehranyad.ir`):

1. ุฏุฑ Plesk ุจู **Subdomains** ุจุฑูุฏ
2. **Add Subdomain** ุฑุง ุจุฒูุฏ
3. ูุงู subdomain ุฑุง ูุงุฑุฏ ฺฉูุฏ (ูุซูุงู `api`)
4. Document Root ุฑุง ุจู `/var/www/energybot` ุชูุธู ฺฉูุฏ
5. SSL ุฑุง ุจุฑุง subdomain ูู ูุนุงู ฺฉูุฏ

---

### 4. ุชูุธู Firewall (ุงฺฏุฑ ุฏุฑ Plesk ูุนุงู ุงุณุช)

1. ุจู ุจุฎุด **Tools & Settings** โ **Firewall** ุจุฑูุฏ
2. ูุทูุฆู ุดูุฏ ฺฉู ูพูุฑุชโูุง ุฒุฑ ุจุงุฒ ูุณุชูุฏ:
   - **80** (HTTP)
   - **443** (HTTPS)
   - **8000** (ุจุฑุง FastAPI - ููุท ุงุฒ localhost)

---

### 5. ุชูุธู Cron Jobs (ุจุฑุง ูพุดุชุจุงูโฺฏุฑ - ุงุฎุชุงุฑ)

1. ุจู ุจุฎุด **Scheduled Tasks** ุจุฑูุฏ
2. **Add Task** ุฑุง ุจุฒูุฏ
3. ุชูุธูุงุช ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:
   - **Command:** `/var/www/energybot/backup.sh`
   - **Run:** Daily
   - **Time:** 02:00

---

### 6. ุจุฑุฑุณ ุฏุณุชุฑุณโูุง

1. ูุทูุฆู ุดูุฏ ฺฉู ฺฉุงุฑุจุฑ ุดูุง ุฏุณุชุฑุณ **SSH** ุฏุงุฑุฏ
2. ุฏุณุชุฑุณ **File Manager** ุจุฑุง ุขูพููุฏ ูุงูโูุง
3. ุฏุณุชุฑุณ **Terminal** (ุงฺฏุฑ ุฏุฑ Plesk ูุนุงู ุงุณุช)

---

## โ๏ธ ูฺฉุงุช ููู

1. **SSL ุงูุฒุงู ุงุณุช:** ุจุฏูู SSLุ ุฒุฑูโูพุงู callback ุฑุง ููโูพุฐุฑุฏ
2. **ูพูุฑุช 8000:** ุจุงุฏ ููุท ุงุฒ localhost ูุงุจู ุฏุณุชุฑุณ ุจุงุดุฏ (Nginx proxy ูโฺฉูุฏ)
3. **.env ูุงู:** ูุฑฺฏุฒ ุฏุฑ File Manager ุนููู ูุฑุงุฑ ูุฏูุฏ
4. **ูุงฺฏโูุง:** ุฏุฑ `/var/log/energybot/` ุฐุฎุฑู ูโุดููุฏ

---

## ๐ง ฺฉุงุฑูุง ฺฉู ูู ุงูุฌุงู ูโุฏูู (ุงุฒ ุทุฑู SSH)

- ูุตุจ Python ู ูุงุจุณุชฺฏโูุง
- ุณุงุฎุช Virtual Environment
- ูุตุจ Supervisor
- ุชูุธู Nginx
- ุฑุงูโุงูุฏุงุฒ ุณุฑูุณโูุง

ุดูุง ููุท ฺฉุงุฑูุง ุจุงูุง ุฑุง ุฏุฑ Plesk ุงูุฌุงู ุฏูุฏ.

---

## โ ฺฺฉโูุณุช ููุง

- [ ] SSL Certificate ูุนุงู ุดุฏ
- [ ] HTTPS Redirect ูุนุงู ุดุฏ
- [ ] Firewall ุชูุธู ุดุฏ (ุงฺฏุฑ ูุงุฒ ุจุงุดุฏ)
- [ ] ุฏุณุชุฑุณ SSH ุชุงุฏ ุดุฏ
- [ ] ูุงูโูุง ูพุฑูฺู ุขูพููุฏ ุดุฏูุฏ

---

**ุจุนุฏ ุงุฒ ุงูุฌุงู ุงู ฺฉุงุฑูุงุ ุจู ูู ุงุทูุงุน ุฏูุฏ ุชุง ูุฑุงุญู SSH ุฑุง ุงูุฌุงู ุฏูู.**

