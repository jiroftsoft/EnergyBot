# ๐ง ุฑูุน ูุดฺฉู: Payment ุฏุฑ ุฏุชุงุจุณ ุงูุช ููโุดูุฏ

## ๐ ูุดฺฉู

ููุช ูพุฑุฏุงุฎุช ุงูุฌุงู ูโุดูุฏ:
- โ ูพุฑุฏุงุฎุช ูููู ูโุดูุฏ
- โ Callback ุจู Railway ูโุฑูุฏ
- โ ุงูุง Payment record ุฏุฑ ุฏุชุงุจุณ Railway ุงูุช ููโุดูุฏ
- โ ุงุดุชุฑุงฺฉ ูุนุงู ููโุดูุฏ
- โ ูพุงู ุจู ุฑุจุงุช ุงุฑุณุงู ููโุดูุฏ

## ๐ก ุนูุช

**ูุดฺฉู:** ุฑุจุงุช ุฏุฑ local ุงุฌุฑุง ูโุดูุฏ ู Payment ุฑุง ุฏุฑ ุฏุชุงุจุณ local ูโุณุงุฒุฏุ ุงูุง callback ุจู Railway ูโุฑูุฏ ฺฉู ุฏุชุงุจุณ ุฌุฏุงฺฏุงูู ุฏุงุฑุฏ.

---

## โ ุฑุงูโุญู: ุงุฌุฑุง ุฑุจุงุช ุฏุฑ Railway

### ูุฑุญูู 1: ุณุงุฎุช Worker Service ุจุฑุง Telegram Bot

1. **ูุงุฑุฏ Railway ุดูุฏ:**
   - ุจู [railway.app](https://railway.app) ุจุฑูุฏ
   - ูพุฑูฺู ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ

2. **ุณุงุฎุช Service ุฌุฏุฏ:**
   - ุฑู **+ New** ฺฉูฺฉ ฺฉูุฏ
   - **Empty Service** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
   - ูุงู: `telegram-bot`

3. **ุชูุธู Start Command:**
   - ุจู **Settings** โ **Deploy** ุจุฑูุฏ
   - **Start Command** ุฑุง ุชูุธู ฺฉูุฏ:
     ```
     python -m app.telegram.main
     ```

4. **ฺฉูพ Environment Variables:**
   - ุจู **Variables** tab ุจุฑูุฏ
   - ุชูุงู Environment Variables ุฑุง ุงุฒ Service "web" ฺฉูพ ฺฉูุฏ:
     - `TELEGRAM_BOT_TOKEN`
     - `OPENAI_API_KEY`
     - `DATABASE_URL`
     - `ZARINPAL_MERCHANT_ID`
     - `ZARINPAL_CALLBACK_URL`
     - `ZARINPAL_SANDBOX`
     - ู ุจูู...

5. **Deploy:**
   - Railway ุฎูุฏฺฉุงุฑ deploy ูโฺฉูุฏ
   - ุฑุจุงุช ุฏุฑ Railway ุงุฌุฑุง ูโุดูุฏ

---

### ูุฑุญูู 2: ูุชููู ฺฉุฑุฏู ุฑุจุงุช Local

ุจุนุฏ ุงุฒ ุงูฺฉู ุฑุจุงุช ุฏุฑ Railway ุงุฌุฑุง ุดุฏ:

1. **ุฑุจุงุช local ุฑุง ูุชููู ฺฉูุฏ:**
   ```powershell
   taskkill /F /IM python.exe
   ```

2. **ุชุณุช ฺฉูุฏ:**
   - ุจู ุฑุจุงุช ุจุฑูุฏ: `@EnergyGym_Bot`
   - `/start` ุจุฒูุฏ
   - ุจุงุฏ ฺฉุงุฑ ฺฉูุฏ

---

## ๐ ุจุฑุฑุณ

### ุจุฑุฑุณ ูุงฺฏโูุง Railway:

1. **Service "telegram-bot"** โ **Logs**
2. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุฑุจุงุช ุจุฏูู ุฎุทุง ุดุฑูุน ุดุฏู
3. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุจู ุฏุชุงุจุณ ูุชุตู ุดุฏู

### ุจุฑุฑุณ ูุงฺฏโูุง Callback:

1. **Service "web"** โ **Logs**
2. ุจุฑุฑุณ ฺฉูุฏ ฺฉู callback ุฏุฑุงูุช ูโุดูุฏ
3. ุจุฑุฑุณ ฺฉูุฏ ฺฉู Payment ูพุฏุง ูโุดูุฏ

---

## โ ูุชุฌู

ุจุนุฏ ุงุฒ ุงู ุชุบุฑุงุช:
- โ ุฑุจุงุช ุฏุฑ Railway ุงุฌุฑุง ูโุดูุฏ
- โ Payment ุฏุฑ ุฏุชุงุจุณ Railway ุณุงุฎุชู ูโุดูุฏ
- โ Callback Payment ุฑุง ูพุฏุง ูโฺฉูุฏ
- โ ุงุดุชุฑุงฺฉ ูุนุงู ูโุดูุฏ
- โ ูพุงู ุจู ุฑุจุงุช ุงุฑุณุงู ูโุดูุฏ

---

## ๐ ูฺฉุงุช ููู

1. **ุฏุชุงุจุณ ูุดุชุฑฺฉ:**
   - ูุฑ ุฏู Service (web ู telegram-bot) ุจุงุฏ ุงุฒ ฺฉ `DATABASE_URL` ุงุณุชูุงุฏู ฺฉููุฏ
   - ุงู ุจุงุนุซ ูโุดูุฏ ฺฉู Payment ุฏุฑ ููุงู ุฏุชุงุจุณ ุณุงุฎุชู ุดูุฏ

2. **Environment Variables:**
   - ุญุชูุงู ุชูุงู Variables ุฑุง ุฏุฑ Service "telegram-bot" ฺฉูพ ฺฉูุฏ
   - ุจู ุฎุตูุต `DATABASE_URL` ุจุงุฏ ฺฉุณุงู ุจุงุดุฏ

3. **ูุงฺฏโูุง:**
   - ููุดู ูุงฺฏโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ
   - ุงฺฏุฑ ูุดฺฉู ูพุด ุขูุฏุ ูุงฺฏโูุง ฺฉูฺฉ ูโฺฉููุฏ

---

**ูููู ุจุงุดุฏ! ๐**

